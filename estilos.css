/* --- ESTILOS MEDIEVALES PERSONALIZADOS --- */

/* Fondo de la página, simulando una mesa de madera oscura */
body {
    background-color: #3d2c1d;
    background-image: url('https://www.transparenttextures.com/patterns/wood-pattern.png');
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    padding: 2rem 1rem;
    color: #4a3a2a;
    font-family: 'Helvetica Neue', Arial, sans-serif;
}

/* Contenedor principal que simula la hoja del libro */
.book-page {
    background-color: #fdf5e6; /* Color pergamino */
    background-image: url('https://www.transparenttextures.com/patterns/old-wall.png');
    border: 1px solid #c9b79c;
    box-shadow: 0 8px 25px rgba(0,0,0,0.5);
    max-width: 1200px;
    width: 100%;
    border-radius: 4px;
}

/* Tipografía manuscrita para el texto principal y de contexto */
.textum-classicum, #context-content {
    font-family: 'IM Fell English', 'Georgia', serif;
    font-size: 1.25rem;
    line-height: 1.8;
    color: #5c4d3c;
}

/* Estilo de los títulos */
h1, h2, h3 {
    font-family: 'IM Fell English', 'Georgia', serif;
    font-weight: bold;
    color: #6d4c35;
}
#main-title { font-size: 3.5rem; }
#subtitle { font-size: 1.75rem; }
#context-title, #text-title, #analysis-title { font-size: 1.5rem; }

/* Estilo para las palabras clickables */
.verbum {
    cursor: pointer;
    transition: color .2s ease-in-out;
    border-bottom: 1px dotted transparent;
}
.verbum:hover {
    background-color: rgba(181, 152, 114, 0.2);
    border-bottom: 1px dotted #8c785c;
}
.activus {
    background-color: rgba(181, 152, 114, 0.4) !important;
    color: #3d2c1d !important;
    font-weight: bold;
}

/* Números de los versos */
.verse-number {
    color: #9a3412;
    font-weight: bold;
}

/* Línea divisoria ornamental */
.divider {
    border: 0;
    height: 1px;
    background-image: linear-gradient(to right, rgba(109, 76, 53, 0), rgba(109, 76, 53, 0.75), rgba(109, 76, 53, 0));
    margin: 2rem 0;
}

/* --- ESTILOS PARA EL SELECTOR DE IDIOMA --- */
#language-switcher { display: flex; gap: 0.5rem; padding-bottom: 1rem; }
.lang-btn { 
    padding: 0.5rem; border: 1px solid #d1c4b0; background-color: #f5eadb; color: #6d4c35;
    border-radius: 0.25rem; cursor: pointer; font-weight: 600; transition: all 0.2s; 
    font-size: 0.875rem; font-family: 'Helvetica Neue', Arial, sans-serif;
}
.lang-btn:hover { background-color: #e9dcc9; }
.lang-btn.active-lang { background-color: #6d4c35; color: #fdf5e6; border-color: #6d4c35; }

/* --- ESTILOS PARA MENÚS DESPLEGABLES --- */
details > summary { list-style: none; }
details > summary::-webkit-details-marker { display: none; }
details > summary::before { content: '▶'; margin-right: 0.5rem; font-size: 0.8em; transition: transform 0.2s; color: #8c785c;}
details[open] > summary { color: #3d2c1d; }
details[open] > summary::before { transform: rotate(90deg); }
details .details-content { padding-left: 1.2rem; margin-top: 0.5rem; border-left: 1px solid #d1c4b0; }
#marginalia-contentus .text-2xl { color: #6d4c35; }
#marginalia-contentus .text-lg { color: #8c785c; }
#marginalia-contentus .text-sm { color: #5c4d3c; }

/* --- LAYOUT RESPONSIVO --- */

/* 1. ESTILOS POR DEFECTO (PANTALLAS VERTICALES / MÓVILES) */
/* El layout es de una sola columna (vertical) */
.main-layout { padding: 1.5rem; }
#marginalia-sinistra { 
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid #d1c4b0;
}

/* 2. ESTILOS PARA PANTALLAS HORIZONTALES / ORDENADOR (a partir de 1024px de ancho) */
/* El layout se divide en dos columnas: 4/5 para el texto, 1/5 para las notas */
@media (min-width: 1024px) {
    .main-layout {
        display: grid;
        grid-template-columns: 4fr 1fr;
        gap: 2rem;
        padding: 2.5rem 3rem;
    }
    #marginalia-sinistra {
        /* Se resetean los estilos de móvil */
        margin-top: 0;
        padding-top: 0;
        border-top: none;
        
        /* Se aplican los nuevos estilos de barra lateral */
        position: sticky; /* Para que la barra de notas se quede fija al hacer scroll */
        top: 2.5rem;
        height: calc(100vh - 5rem); /* Altura máxima para que no se salga de la pantalla */
        border-left: 1px solid #d1c4b0;
        padding-left: 2rem;
        overflow-y: auto; /* Permite scroll solo en la barra de notas si el contenido es largo */
    }
}
